### **åŸºäºå®å°Šç”µå•†çš„å¢å¼ºæ„å›¾ç†è§£**

ä¸ºäº†è®© AI é€‚åº” **å®å°Šç”µå•†** çš„ä¸šåŠ¡éœ€æ±‚ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ **æ„å›¾è¯†åˆ«** è¿›è¡Œç”µå•†åœºæ™¯å¢å¼ºã€‚ç”µå•†çš„è¿ç»´éœ€æ±‚é€šå¸¸æ¶‰åŠï¼š

1. **ç³»ç»Ÿç›‘æ§**ï¼ˆåº”ç”¨å¥åº·çŠ¶æ€ã€æœåŠ¡å™¨è´Ÿè½½ã€æ•°æ®åº“æŸ¥è¯¢ï¼‰
2. **ä¸šåŠ¡æŒ‡æ ‡**ï¼ˆè®¢å•é‡ã€è½¬åŒ–ç‡ã€æ”¯ä»˜æˆåŠŸç‡ã€åº“å­˜ç›‘æ§ï¼‰
3. **æ•…éšœæ’æŸ¥**ï¼ˆå¼‚å¸¸æ—¥å¿—ã€æ”¯ä»˜å¤±è´¥ç‡ã€é¡µé¢åŠ è½½æ…¢ï¼‰
4. **èµ„æºä¼˜åŒ–**ï¼ˆäº‘èµ„æºæˆæœ¬ã€æœåŠ¡å™¨æ‰©å®¹ã€Kubernetes è‡ªåŠ¨æ‰©ç¼©å®¹ï¼‰
5. **å®‰å…¨åˆè§„**ï¼ˆé£æ§ã€DDoS ç›‘æµ‹ã€ç”¨æˆ·æ•°æ®åˆè§„ï¼‰
6. **è¥é”€æ´»åŠ¨æ”¯æŒ**ï¼ˆå¤§ä¿ƒæœŸé—´ç³»ç»Ÿä¿éšœã€æµé‡é¢„æµ‹ï¼‰

---

## **1. AI è§£ææ„å›¾çš„ Prompt è®¾è®¡**

é’ˆå¯¹å®å°Šç”µå•†ï¼Œæˆ‘ä»¬éœ€è¦ **å®šåˆ¶ Prompt**ï¼Œè®© AI æ›´ç²¾å‡†åœ°è§£æ **è¿ç»´ & ä¸šåŠ¡éœ€æ±‚**ã€‚

### **Prompt è®¾è®¡**

```
ä½ æ˜¯ä¸€ä¸ªç”µå•†è¿ç»´æ™ºèƒ½åŠ©æ‰‹ï¼Œè´Ÿè´£è§£æç”¨æˆ·è¾“å…¥ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°ä»¥ä¸‹ä»»åŠ¡ç±»åˆ«ï¼š
- "system_monitoring"ï¼ˆç³»ç»Ÿç›‘æ§ï¼šæœåŠ¡å™¨ã€æ•°æ®åº“ã€ç½‘ç»œï¼‰
- "business_metrics"ï¼ˆä¸šåŠ¡æŒ‡æ ‡ï¼šè®¢å•é‡ã€æ”¯ä»˜æˆåŠŸç‡ã€åº“å­˜ï¼‰
- "incident_diagnosis"ï¼ˆæ•…éšœæ’æŸ¥ï¼šè¶…æ—¶ã€å¼‚å¸¸æ—¥å¿—ã€æ”¯ä»˜å¤±è´¥ï¼‰
- "resource_optimization"ï¼ˆèµ„æºä¼˜åŒ–ï¼šæœåŠ¡å™¨æ‰©å®¹ã€äº‘æˆæœ¬ä¼˜åŒ–ï¼‰
- "security_compliance"ï¼ˆå®‰å…¨åˆè§„ï¼šé£æ§ã€æ•°æ®åˆè§„ã€DDoS é˜²å¾¡ï¼‰
- "marketing_support"ï¼ˆè¥é”€æ´»åŠ¨æ”¯æŒï¼šå¤§ä¿ƒä¿éšœã€æµé‡é¢„æµ‹ï¼‰
- "others"ï¼ˆå…¶ä»–ï¼‰

è¯·æå–ç”¨æˆ·çš„ **æŸ¥è¯¢å…³é”®å­—**ï¼Œå¹¶å°è¯•ç”Ÿæˆé€‚åˆçš„ API æŸ¥è¯¢å‚æ•°ï¼Œå¹¶ä»¥ JSON å½¢å¼è¿”å›ç»“æœã€‚

**ç¤ºä¾‹è¾“å…¥ï¼š**
"è¯·å¸®æˆ‘æŸ¥çœ‹æ˜¨å¤©åŒåä¸€å¤§ä¿ƒçš„è®¢å•æ”¯ä»˜æˆåŠŸç‡ï¼Œå¹¶å’Œå»å¹´ç›¸æ¯”æ˜¯å¦æœ‰ä¸‹é™ï¼Ÿ"

**ç¤ºä¾‹ JSON è¾“å‡ºï¼š**
```json
{
    "intent": "business_metrics",
    "query_keywords": ["åŒåä¸€", "è®¢å•", "æ”¯ä»˜æˆåŠŸç‡", "å»å¹´å¯¹æ¯”"],
    "suggested_api": {
        "service": "business_analytics",
        "query": {
            "metric": "payment_success_rate",
            "time_range": "yesterday",
            "comparison": "last_year"
        }
    }
}
```

```

---

## **2. AI ä»»åŠ¡åˆ†ç±» & è§£æç¤ºä¾‹**
### **ç¤ºä¾‹ 1ï¼šè®¢å•æ”¯ä»˜æˆåŠŸç‡ç›‘æ§**
**ç”¨æˆ·è¾“å…¥**
```

è¯·å¸®æˆ‘æŸ¥çœ‹æ˜¨å¤©åŒåä¸€å¤§ä¿ƒçš„è®¢å•æ”¯ä»˜æˆåŠŸç‡ï¼Œå¹¶å’Œå»å¹´ç›¸æ¯”æ˜¯å¦æœ‰ä¸‹é™ï¼Ÿ

```

**AI è§£æçš„ JSON å“åº”**
```json
{
    "intent": "business_metrics",
    "query_keywords": ["åŒåä¸€", "è®¢å•", "æ”¯ä»˜æˆåŠŸç‡", "å»å¹´å¯¹æ¯”"],
    "suggested_api": {
        "service": "business_analytics",
        "query": {
            "metric": "payment_success_rate",
            "time_range": "yesterday",
            "comparison": "last_year"
        }
    }
}
```

---

### **ç¤ºä¾‹ 2ï¼šæœåŠ¡å™¨èµ„æºä½¿ç”¨ç‡**

**ç”¨æˆ·è¾“å…¥**

```
æœ€è¿‘ 1 å°æ—¶ç½‘ç«™è®¿é—®é‡æ¿€å¢ï¼ŒæœåŠ¡å™¨ CPU ä½¿ç”¨ç‡æ˜¯å¦è¶…è¿‡ 80%ï¼Ÿéœ€è¦æ‰©å®¹å—ï¼Ÿ
```

**AI è§£æçš„ JSON å“åº”**

```json
{
    "intent": "system_monitoring",
    "query_keywords": ["æœåŠ¡å™¨", "CPU", "ä½¿ç”¨ç‡", "æ‰©å®¹"],
    "suggested_api": {
        "service": "prometheus",
        "query": {
            "metric": "cpu_utilization",
            "time_range": "1h",
            "threshold": 80
        }
    }
}
```

---

### **ç¤ºä¾‹ 3ï¼šæ”¯ä»˜å¤±è´¥åˆ†æ**

**ç”¨æˆ·è¾“å…¥**

```
æœ€è¿‘ç”¨æˆ·åé¦ˆæ”¯ä»˜å¤±è´¥ç‡å¾ˆé«˜ï¼Œèƒ½å¸®æˆ‘æŸ¥æŸ¥æ”¯ä»˜å®å’Œå¾®ä¿¡æ”¯ä»˜çš„å¤±è´¥ç‡å—ï¼Ÿ
```

**AI è§£æçš„ JSON å“åº”**

```json
{
    "intent": "incident_diagnosis",
    "query_keywords": ["æ”¯ä»˜å¤±è´¥ç‡", "æ”¯ä»˜å®", "å¾®ä¿¡æ”¯ä»˜"],
    "suggested_api": {
        "service": "elasticsearch",
        "query": {
            "index": "payment-logs",
            "filter": "status:failed AND provider:(Alipay OR WeChatPay)",
            "aggregation": "time_histogram"
        }
    }
}
```

---

### **ç¤ºä¾‹ 4ï¼šDDoS æ”»å‡»æ£€æµ‹**

**ç”¨æˆ·è¾“å…¥**

```
æœ€è¿‘ç½‘ç«™è®¿é—®é‡å¼‚å¸¸ï¼Œæ˜¯å¦æœ‰ DDoS æ”»å‡»ï¼Ÿéœ€è¦é£æ§ä»‹å…¥å—ï¼Ÿ
```

**AI è§£æçš„ JSON å“åº”**

```json
{
    "intent": "security_compliance",
    "query_keywords": ["ç½‘ç«™è®¿é—®é‡å¼‚å¸¸", "DDoS æ”»å‡»", "é£æ§"],
    "suggested_api": {
        "service": "security_monitor",
        "query": {
            "attack_type": "DDoS",
            "traffic_anomaly": true,
            "risk_management": true
        }
    }
}
```

---

### **ç¤ºä¾‹ 5ï¼šå¤§ä¿ƒå‰æµé‡é¢„æµ‹**

**ç”¨æˆ·è¾“å…¥**

```
è¯·é¢„æµ‹ä¸‹å‘¨ 618 å¤§ä¿ƒæœŸé—´çš„ PV å’Œ UVï¼Œçœ‹çœ‹æ˜¯å¦éœ€è¦å¢åŠ  CDN èµ„æºï¼Ÿ`
```

**AI è§£æçš„ JSON å“åº”**

```json
{
    "intent": "marketing_support",
    "query_keywords": ["618 å¤§ä¿ƒ", "PV", "UV", "CDN èµ„æº"],
    "suggested_api": {
        "service": "traffic_prediction",
        "query": {
            "event": "618",
            "metrics": ["PV", "UV"],
            "suggest_resource": "CDN"
        }
    }
}
```

---

## **3. ä»£ç å®ç°**

```python
import json
from openai import OpenAI

client = OpenAI(
    api_key="your-api-key",
    base_url="https://api.deepseek.com"
)

system_prompt = """
ä½ æ˜¯ä¸€ä¸ªç”µå•†è¿ç»´æ™ºèƒ½åŠ©æ‰‹ï¼Œè´Ÿè´£è§£æç”¨æˆ·è¾“å…¥ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°ä»¥ä¸‹ä»»åŠ¡ç±»åˆ«ï¼š
- "system_monitoring"ï¼ˆç³»ç»Ÿç›‘æ§ï¼šæœåŠ¡å™¨ã€æ•°æ®åº“ã€ç½‘ç»œï¼‰
- "business_metrics"ï¼ˆä¸šåŠ¡æŒ‡æ ‡ï¼šè®¢å•é‡ã€æ”¯ä»˜æˆåŠŸç‡ã€åº“å­˜ï¼‰
- "incident_diagnosis"ï¼ˆæ•…éšœæ’æŸ¥ï¼šè¶…æ—¶ã€å¼‚å¸¸æ—¥å¿—ã€æ”¯ä»˜å¤±è´¥ï¼‰
- "resource_optimization"ï¼ˆèµ„æºä¼˜åŒ–ï¼šæœåŠ¡å™¨æ‰©å®¹ã€äº‘æˆæœ¬ä¼˜åŒ–ï¼‰
- "security_compliance"ï¼ˆå®‰å…¨åˆè§„ï¼šé£æ§ã€æ•°æ®åˆè§„ã€DDoS é˜²å¾¡ï¼‰
- "marketing_support"ï¼ˆè¥é”€æ´»åŠ¨æ”¯æŒï¼šå¤§ä¿ƒä¿éšœã€æµé‡é¢„æµ‹ï¼‰
- "others"ï¼ˆå…¶ä»–ï¼‰

è¯·æå–ç”¨æˆ·çš„ **æŸ¥è¯¢å…³é”®å­—**ï¼Œå¹¶å°è¯•ç”Ÿæˆé€‚åˆçš„ API æŸ¥è¯¢å‚æ•°ï¼Œä»¥ JSON å½¢å¼è¿”å›ã€‚
"""

def get_ai_response(user_input):
    messages = [
        {"role": "system", "content": system_prompt},
        {"role": "user", "content": user_input}
    ]
    
    response = client.chat.completions.create(
        model="deepseek-chat",
        messages=messages,
        response_format={"type": "json_object"}
    )
    
    return json.loads(response.choices[0].message.content)

# ç¤ºä¾‹æµ‹è¯•
user_query = "è¯·å¸®æˆ‘æŸ¥çœ‹æ˜¨å¤©åŒåä¸€å¤§ä¿ƒçš„è®¢å•æ”¯ä»˜æˆåŠŸç‡ï¼Œå¹¶å’Œå»å¹´ç›¸æ¯”æ˜¯å¦æœ‰ä¸‹é™ï¼Ÿ"
parsed_response = get_ai_response(user_query)
print(json.dumps(parsed_response, indent=2, ensure_ascii=False))
```

---

## **4. æ€»ç»“**

âœ… **å®šåˆ¶åŒ–æ„å›¾è¯†åˆ«**ï¼šå¢å¼º AI å¯¹ **å®å°Šç”µå•†** ä¸šåŠ¡çš„ç†è§£ï¼Œç¡®ä¿å‡†ç¡®åˆ†ç±»ã€‚  
âœ… **ä¸šåŠ¡åœºæ™¯è¦†ç›–**ï¼šæ¶µç›– **ç›‘æ§ã€åˆ†æã€é¢„æµ‹ã€é£æ§**ï¼Œæ»¡è¶³ç”µå•†è¿ç»´éœ€æ±‚ã€‚  
âœ… **ç»“æ„åŒ– JSON å“åº”**ï¼šç¡®ä¿è¾“å‡ºæ ‡å‡†åŒ–ï¼Œå¯ç›´æ¥ç”¨äº API æŸ¥è¯¢æˆ–æ•°æ®åˆ†æã€‚  
âœ… **å¯æ‰©å±•æ€§å¼º**ï¼šå¯ä»¥é›†æˆåˆ° **è¿ç»´å¹³å°ã€AI ç›‘æ§ç³»ç»Ÿ**ï¼Œæä¾›æ™ºèƒ½åŒ–æ”¯æŒã€‚  

ğŸš€ **ä¸‹ä¸€æ­¥**ï¼šä½ å¯ä»¥ç»“åˆ **DeepSeek API** ç›´æ¥æµ‹è¯•ï¼Œæˆ–è¿›ä¸€æ­¥ç»†åŒ–æŸ¥è¯¢å‚æ•°ï¼Œè®© AI æ›´é€‚é… **å®å°Šç”µå•†** çš„ **å®é™…æ•°æ®ç³»ç»Ÿ**ï¼
